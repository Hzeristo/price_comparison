# 项目设计文档 [![Build Status](https://github.com/spring-projects/spring-petclinic/actions/workflows/maven-build.yml/badge.svg)](https://github.com/spring-projects/spring-petclinic/actions/workflows/maven-build.yml)

## 1. 项目概述
### 1.1 背景

### 1.2 目标

## 2. 功能需求
### 2.1 用户服务

### 2.2 商品服务

### 2.3 收藏服务

### 2.4 爬虫服务

## 3. 系统架构

### 3.1 架构图

### 3.2 技术栈说明

#### 3.2.1. 服务注册与发现
- **Eureka Server**
  - 使用Netflix Eureka作为服务注册与发现的解决方案。
  - 支持微服务之间的动态注册和查找，提高系统的灵活性和可扩展性。
  - 提供健康检查功能，确保服务的可用性。

#### 2. 配置管理
- **Spring Cloud Config**
  - 采用Spring Cloud Config管理微服务的外部配置。
  - 支持版本控制和集中管理，确保配置的一致性。
  - 提供动态刷新功能，使配置修改后能够实时生效，无需重启服务。

#### 3. 服务间通信
- **REST API**
  - 使用Spring MVC构建RESTful API，简化服务间的同步通信。
  - 支持JSON格式的数据交换，提高数据交互的效率和可读性。
  
- **RabbitMQ**
  - 作为消息队列实现异步通信，支持高并发请求处理。
  - 允许服务之间通过事件驱动架构解耦，提升系统的可伸缩性。

#### 4. API网关
- **Spring Cloud Gateway**
  - 采用Spring Cloud Gateway作为API网关，简化微服务访问。
  - 提供路由、负载均衡、安全认证等功能。
  - 支持请求过滤和转发，能够处理跨域请求。

#### 5. 监控与管理
- **Spring Boot Actuator**
  - 集成Spring Boot Actuator用于监控和管理应用程序。
  - 提供健康检查、指标收集、环境信息等功能，便于运维团队监控应用状态。

- **Prometheus与Grafana**
  - 使用Prometheus收集和存储监控数据，支持多维数据模型。
  - 通过Grafana进行数据可视化，帮助团队实时监控系统状态和性能指标。

#### 6. 安全
- **Spring Security**
  - 使用Spring Security实施身份验证和授权，保护API和用户数据的安全性。
  - 支持OAuth2等多种安全协议，确保应用的安全性和合规性。

#### 7. 数据库
- **MySQL**
  - 采用MySQL作为主要关系型数据库，存储用户信息、产品数据及历史价格等。
  - 支持事务管理和数据完整性，确保数据的一致性。

#### 8. 前端技术
- **Vue.js**
  - 使用Vue.js构建前端应用，提供动态、响应式的用户界面。
  - 支持组件化开发，提高前端代码的可维护性和重用性。

- **Axios**
  - 采用Axios进行HTTP请求，简化前后端数据交互。
  - 支持请求和响应拦截，方便处理错误和身份验证。

#### 9. 容器化
- **Docker**
  - 使用Docker容器化部署各个微服务，确保一致的运行环境。
  - 简化应用的部署与扩展，提高开发和运维效率。

#### 10. 开发与构建工具
- **Java**
  - 主要编程语言，使用Java 21进行后端开发，利用其强大的生态系统。

- **Spring Boot**
  - 使用Spring Boot框架简化开发过程，提高开发效率。
  - 提供开箱即用的配置，减少繁琐的设置过程。

- **Maven**
  - 使用Maven作为项目管理与构建工具，方便依赖管理和构建过程。
  - 支持自动化构建和版本控制，确保项目的一致性。

## 4. API 设计
### 4.1 用户服务 API
#### 4.1.1 注册接口

#### 4.1.2 登录接口

### 4.2 商品服务 API
#### 4.2.1 获取商品列表接口

### 4.3 收藏服务 API
#### 4.3.1 收藏商品接口

## 5. 数据模型
### 5.1 用户模型

### 5.2 商品模型

### 5.3 收藏模型

## 6. 服务间通信
### 6.1 消息队列的使用

### 6.2 异步处理的实现

## 7. 安全性设计
### 7.1 认证机制

### 7.2 授权策略

## 8. 部署方案
### 8.1 Docker 部署

### 8.2 部署步骤

## 9. 监控和日志
### 9.1 系统监控

### 9.2 日志管理

## 10. 测试策略
### 10.1 单元测试

### 10.2 集成测试

### 10.3 性能测试

## 11. 维护和支持
### 11.1 更新计划

### 11.2 故障响应

